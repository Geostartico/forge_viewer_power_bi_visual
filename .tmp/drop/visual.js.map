{"version":3,"file":"visual.js","mappings":"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","sources":["webpack:///./src/Isolator.ts","webpack:///./src/VisualConnector_extension.ts","webpack:///./src/attribute_parser.ts","webpack:///./src/isolateFunction.ts","webpack:///./src/panel_extension.ts","webpack:///./src/visual.ts","webpack:///external var \"Function('return this')()\"","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./.tmp/precompile/visualPlugin.ts"],"sourcesContent":["import {struct} from './attribute_parser'\nimport {isolateFunction} from './isolateFunction'\n//refactoring of the function to paint and \nexport class Isolator{\n    curDbids : Set<number>;\n    dbidToColor : Map<number, number[][]>;\n    numOfNames : number;\n    curDone : number;\n    viewer : any;//the types have the wrong number of parameters for some functions, so i have to use any\n    searchParam : {names : struct[], vals : string[]};\n    isolate : boolean;\n    zoom : boolean;\n    paint : boolean;\n    \n    constructor(aviewer : Autodesk.Viewing.Viewer3D){\n        this.viewer = aviewer;\n    }\n\n    public clear() : void{\n        this.viewer.impl.visibilityManager.setNodeOff(this.viewer.model.getRootId(), false);\n        this.viewer.isolate();\n        this.viewer.clearThemingColors(this.viewer.model);\n        this.viewer.fitToView();\n    }\n    //TODO: make multithred\n    public searchAndIsolate(anames : struct[], avalues : string[], isolate : boolean, zoom : boolean, paint : boolean) : void{\n        if(anames.length != avalues.length){\n            throw new Error('the values and structs must be the same number');\n        }\n        this.isolate = isolate;\n        this.zoom = zoom;\n        this.paint = paint;\n        this.curDbids = new Set<number>();\n        this.dbidToColor = new Map<number, number[][]>();\n        this.numOfNames = anames.length;\n        this.curDone = 0;\n        this.searchParam = {names : anames, vals : avalues}\n        this.clear();\n        this.viewer.search('\"' + this.searchParam.vals[0] + '\"', this.succcallback.bind(this), this.errCallback, this.searchParam.names[0].names, {searchHidden: true, includeInherited: true});\n\n    }\n    public searchAndColorByValue(field : string, keyword: string, valueField : string, valueToColor : Map<string, number[]>, clearPrev : boolean = true){\n        this.curDbids = new Set<number>();\n        if(clearPrev){\n            this.clear();\n        }\n        let succcallback2 = (dbids : number[]) => {\n            for(let i of dbids){\n                this.curDbids.add(i);\n            }\n            let valueFieldUpper = valueField.toUpperCase();\n            for(let db of this.curDbids.values()){\n                this.viewer.getProperties(db, (prop) => {\n                    for(let erty of prop.properties){\n                        if(erty.displayName.toUpperCase() == valueFieldUpper){\n                            if(valueToColor.has(erty.displayValue.toString())){\n                                console.log(valueToColor.get(erty.displayValue.toString()));\n                                let cl = valueToColor.get(erty.displayValue.toString()).map((e) => {return e/256});\n                                this.viewer.setThemingColor(db, new THREE.Vector4(cl[0], cl[1], cl[2], cl[3]), this.viewer.model, true);\n                            }\n                        }\n                    }\n                }, \n                this.errCallback)\n            }\n            isolateFunction(dbids, this.viewer.model.getInstanceTree(), this.viewer)\n        }\n        this.viewer.search('\"' + keyword + '\"', succcallback2.bind(this), this.errCallback, [field], {searchHidden: true, includeInherited: true});\n    } \n\n    private succcallback(dbids : number[]){\n        //insert new dbids\n        for(let i of  dbids){\n            this.curDbids.add(i);\n            if(!this.dbidToColor.has(i)){\n                this.dbidToColor.set(i, [this.searchParam.names[this.curDone].color]);\n            }\n            else{\n                this.dbidToColor.set(i, this.dbidToColor.get(i).concat([this.searchParam.names[this.curDone].color]));\n            }\n        }\n        this.curDone++;\n        console.log(this.curDone);\n        //it's the last iteration, isolate and paint\n        if(this.curDone === this.numOfNames){\n            this.clear();\n            let tree = this.viewer.model.getInstanceTree();\n            //isolate\n            if(this.isolate){\n                isolateFunction(Array.from(this.curDbids.values()), tree, this.viewer);\n            }\n            //paint\n            if(this.paint){\n                this.dbidToColor.forEach((colors : number[][], num : number) => {\n                        let avgcolor : number [] = this.average(colors, 256);\n                        let threeAvgColor = new THREE.Vector4(avgcolor[0], avgcolor[1], avgcolor[2], avgcolor[3]);\n                        this.viewer.setThemingColor(num, threeAvgColor, this.viewer.model, true) \n                })\n            }\n            if(this.zoom){\n                this.viewer.fitToView(Array.from(this.curDbids.values()));\n            }\n        }\n        else{\n            this.viewer.search('\"' + this.searchParam.vals[this.curDone] + '\"', this.succcallback.bind(this), this.errCallback, this.searchParam.names[this.curDone].names, {searchHidden: true, includeInherited: true});\n        }\n    }\n\n    private errCallback(err){\n        console.log('an error has occured during search', err)\n    }\n\n    //the length of every array must be the same\n    private average(arrs : number[][], normalization : number = 1) : number[]{\n        let ret : number[] = [];\n        for(let i = 0; i < arrs[0].length; i ++){\n            let sum : number = 0;\n            for(let ii = 0; ii < arrs.length; ii++){\n                sum += arrs[ii][i];\n            }\n            sum /= arrs.length;\n            sum /= normalization;\n            ret.push(sum);\n        }\n        return ret;\n    }\n}\n","/**\n * extension to allow the user to enter the values\n * to select objects according to the selections on other visuals\n **/\nexport function visualConnectorExtension(){\n    class Panel extends Autodesk.Viewing.UI.DockingPanel{\n        attrName: string;\n        attrValue: string;\n        id_column : HTMLInputElement;\n        id_property : HTMLInputElement;\n        value_column : HTMLInputElement;\n        value_colors : HTMLInputElement;\n        div : HTMLDivElement;\n        form : any;\n        submitButton : HTMLInputElement;\n        viewer : any;//can't type it, issues with some methods signatures which miss parameters in the typescript version\n        titleBar : any;\n        closeButton : any;\n        temp : string[] = ['', '', '', ''];\n        id_column_string : string;\n        id_property_string : string;\n        value_column_string : string;\n        value_colors_string : string;\n\n\n        constructor(viewer, container, id, title, options = {}) {\n            super(container, id, title, options);\n            this.viewer = viewer;\n        }\n\n        initialize() {\n            this.container.style.top = \"10px\";\n            this.container.style.left = \"10px\";\n            this.container.style.width = \"auto\";\n            this.container.style.height = \"auto\";\n            this.container.style.resize = \"auto\";\n\n            // title bar\n            this.titleBar = this.createTitleBar(this.titleLabel || this.container.id);\n            this.container.appendChild(this.titleBar);\n\n            // close button\n            this.closeButton = this.createCloseButton();\n            this.container.appendChild(this.closeButton);\n\n            // allow move\n            this.initializeMoveHandlers(this.titleBar);\n\n            // the main content area\n            this.container.appendChild(this.createScrollContainer({}));\n\n            // footer\n            this.container.appendChild(this.createFooter());\n            //create div to contain the menu, containing a form with two fields: attributename and attributevalue and a button to commit\n            this.div = document.createElement('div');\n            this.form = document.createElement('form');\n\n            let txt = document.createElement(\"span\");\n            txt.innerText = \"column containing the id\";\n\n            //text input for attributeName\n            this.id_column = document.createElement('input');\n            this.id_column.type = 'text';\n            this.id_column.id = 'id_column_input';\n            this.id_column.name = 'id column';\n            this.id_column.addEventListener('input', this.updateId_column.bind(this))\n\n            let txt2 = document.createElement('span');\n            txt2.innerText = 'id of the property in the model';\n\n            //text input for id_property\n            this.id_property = document.createElement('input');\n            this.id_property.type = 'text';\n            this.id_property.id = 'attributeValueInput';\n            this.id_property.name = 'attribute value';\n            this.id_property.addEventListener('input', this.updateId_property.bind(this)) \n\n            let txt3 = document.createElement('span');\n            txt2.innerText = 'value-color associations';\n            \n            //text input for id_property\n            this.value_colors = document.createElement('input');\n            this.value_colors.type = 'text';\n            this.value_colors.id = 'value_to_colors_input';\n            this.value_colors.name = 'value to colors';\n            this.value_colors.addEventListener('input', this.updateValueToColor.bind(this)) \n\n            let txt4 = document.createElement('span');\n            txt2.innerText = 'column to read for value';\n            \n            //text input for id_property\n            this.value_column = document.createElement('input');\n            this.value_column.type = 'text';\n            this.value_column.id = 'value_column_input';\n            this.value_column.name = 'column value';\n            this.value_column.addEventListener('input', this.updateValue_column.bind(this)) \n\n\n            //submit Button\n            this.submitButton = document.createElement('input');\n            this.submitButton.type = 'submit';\n            this.submitButton.value = 'chainge config';\n            this.submitButton.addEventListener('click', this.onClickSubmit.bind(this))\n            //attach elements to form\n            this.form.appendChild(txt);\n            this.form.appendChild(this.id_column);\n            this.form.appendChild(document.createElement('br'));\n            this.form.appendChild(txt2);\n            this.form.appendChild(this.id_property);\n            this.form.appendChild(document.createElement('br'));\n            this.form.appendChild(txt3)\n            this.form.appendChild(this.value_colors)\n            this.form.appendChild(txt4);\n            this.form.appendChild(this.value_column);\n            this.form.appendChild(this.submitButton);\n            this.form.appendChild(document.createElement('br'));\n\n            this.div.appendChild(this.form);\n            this.scrollContainer.appendChild(this.div);\n        }\n\n        private onClickSubmit(event : Event){\n            this.id_column_string = this.temp[0];\n            this.id_property_string = this.temp[1];\n            this.value_column_string = this.temp[2];\n            this.value_colors_string = this.temp[3];\n        }\n\n        private updateId_column(event : Event){\n            this.temp[0] = (<HTMLInputElement>event.target).value;\n        }\n\n         private updateId_property(event : Event){\n            this.temp[1] = (<HTMLInputElement>event.target).value;\n        }\n         private updateValue_column(event : Event){\n            this.temp[2] = (<HTMLInputElement>event.target).value;\n        }\n         private updateValueToColor(event : Event){\n            this.temp[3] = (<HTMLInputElement>event.target).value;\n        }\n\n        public getInput() : string[]{\n            return [this.id_column_string, this.id_property_string, this.value_column_string, this.value_colors_string]\n        } \n    }\n\n    class PanelExt extends Autodesk.Viewing.Extension{\n\n        pn : Panel;\n        btn : Autodesk.Viewing.UI.Button;\n        subToolbar : Autodesk.Viewing.UI.ToolBar;\n\n        constructor(viewer, options){\n            super(viewer, options);\n        }\n\n        public load() : boolean{\n            console.log(\"loading select config extension\");\n            //this.pn = new Panel(this.viewer, this.viewer.container, 'panelID', 'panelTitle') \n            ////console.log(this.pn);\n            //this.pn.setVisible(true);\n            return true;\n        } \n\n        public unload() : boolean{\n            console.log(\"unload DockingPanel\")\n            return true;\n        }\n\n        public onToolbarCreated(toolbar : Autodesk.Viewing.UI.ToolBar){\n            var viewer = this.viewer;\n\n\n            // Button 1\n            this.btn = new Autodesk.Viewing.UI.Button('configButton');\n            this.btn.onClick = ((e) => {\n                this.pn = new Panel(this.viewer, this.viewer.container, 'configPanel', 'config');\n                this.pn.setVisible(true);\n            }).bind(this);\n            this.btn.addClass('open-config-panel-button');\n            this.btn.setToolTip('open config panel');\n\n            \n            // SubToolbar\n            this.subToolbar = new Autodesk.Viewing.UI.ControlGroup('configToolbar');\n            this.subToolbar.addControl(this.btn);\n\n            toolbar.addControl(this.subToolbar);\n            };\n    } \n    return PanelExt\n}\n","/**\n * name format: [name1, name2, name3] (number, number, number, number); ... (the number must be between 0 and 256)\n * value format: val1, val2, val3 ...\n * **/\nexport class struct{\n    public names : string[];\n    public color : number[];\n    constructor(str : string[], nm : number[]){\n        this.names = str;\n        this.color = nm;\n    }\n}\nexport function attributeParser(attributeVals : string, attributeNames : string) : {names : struct[], vals : string[]}{\n    let dividedvals : string[] = parseVals(attributeVals);\n    let divideNames : struct[] = parseNames(attributeNames);\n    return {names : divideNames, vals : dividedvals};\n}\n\nfunction parseVals(values : string) : string[]{\n    return values.split(',').map<string>((str) => {return str.trim()})\n}\n\nfunction parseNames(names : string) : struct[]{\n    let curStart : number;\n    let curEnd : number;\n    let curNames : string[];\n    let curColor : number[];\n    let ret : struct[] = [];\n    for(let i = 0; i < names.length; i ++){\n        //list of names to search in\n        if(names.charAt(i) === '['){\n            curStart = i;\n            while(i < names.length && names.charAt(i) != ']'){\n                i++;\n            }\n            curNames = divideNames(names.slice(curStart + 1, i));\n        }\n        //color to associate\n        if(names.charAt(i) === '('){\n            curStart = i;\n            while(i < names.length && names.charAt(i) != ')'){\n                i++;\n            }\n            curColor = parseColor(names.slice(curStart + 1, i));\n        }\n        //end of couple\n        if(names.charAt(i) === ';'){\n            if(curNames === undefined || curColor === undefined){\n                throw new Error(\"for every list of names there must be a color and vice versa\");\n            }\n            ret.push(new struct(curNames, curColor));\n            curNames = undefined;\n            curColor = undefined;\n        }\n    }\n    if(curNames != undefined || curColor != undefined){\n        throw new Error(\"please end every couple name,string with a semicolon\");\n    }\n    return ret;\n}\n\nfunction divideNames(str : string) : string[]{\n    return str.split(',').map((st) => {return st.trim()})\n}\n\nfunction parseColor(str : string) : number[]{\n    return str.split(',').map((st) => {\n        let nm = Number(st);\n        if(nm > 256 || nm < 0){\n            throw new Error(\"RGB colors values must be in [0, 256]\");\n        }\n        return Number(st)});\n}\n","export function isolateFunction(dbIds : number[], tree : any/*instance tree*/, viewer){\n    console.log(\"dbIds: \", dbIds);\n    let leafIDs = getLeaves(dbIds, tree); \n    let allIds = getLeaves([tree.getRootId()], tree)\n    let unwanted = allIds.filter((id) => {return leafIDs.indexOf(id) < 0});\n    console.log(\"unwanted: \", unwanted);\n    console.log('leaves', leafIDs);\n    viewer.isolate(leafIDs);\n    for(let i of unwanted){\n        viewer.impl.visibilityManager.setNodeOff(i, true);\n    }\n}\nfunction getLeaves(dbIds : number[], tree){\n    let leaves : number[] = [];\n    for(let i = 0; i < dbIds.length; i++){\n        let subchildren = (id) =>{\n            if(tree.getChildCount(id) === 0){\n                leaves.push(id)\n            }\n            tree.enumNodeChildren(id, (child) => {subchildren(child)});\n        }\n        subchildren(dbIds[i]);\n    }\n    return leaves;\n}\n","import {attributeParser, struct} from './attribute_parser';\nimport {isolateFunction} from './isolateFunction';\nimport {Isolator} from './Isolator';\n/**\n * the class extends Autodesk.Viewing.UI.DockingPanel, if it is imported in another file the class is evaluated, unfortunately\n * the code for autodesk is imported in runtime, therefore before the import Autodesk is undefined, making the code stop when\n * Autodesk.Viewing is evaluated. the smarter solution would be to dynamically import the class, but it returns a syntax error\n * in the code for which i don't have an exact explanation\n * **/\nexport function PanelExtension(){\n    class Panel extends Autodesk.Viewing.UI.DockingPanel{\n        attrName: string;\n        attrValue: string;\n        attributeNameInput : HTMLInputElement;\n        attributeValueInput : HTMLInputElement;\n        submitButton : HTMLInputElement;\n        clearButton : HTMLInputElement;\n        fileInput : HTMLInputElement;\n        div : HTMLDivElement;\n        form;\n        curDbids : Set<number>;\n        dbidToColor : Map<number, number[][]>;\n        numOfNames : number;\n        curDone : number;\n        searchParam : {names : struct[], vals: string[]};\n        isol : Isolator;\n        viewer : any;//can't type it, issues with some methods signatures which miss parameters in the typescript version\n        titleBar : any;\n        closeButton : any;\n\n        constructor(viewer, container, id, title, options = {}) {\n            super(container, id, title, options);\n            this.viewer = viewer;\n            this.isol = new Isolator(this.viewer);\n        }\n\n        initialize() {\n            this.container.style.top = \"10px\";\n            this.container.style.left = \"10px\";\n            this.container.style.width = \"auto\";\n            this.container.style.height = \"auto\";\n            this.container.style.resize = \"auto\";\n\n            // title bar\n            this.titleBar = this.createTitleBar(this.titleLabel || this.container.id);\n            this.container.appendChild(this.titleBar);\n\n            // close button\n            this.closeButton = this.createCloseButton();\n            this.container.appendChild(this.closeButton);\n\n            // allow move\n            this.initializeMoveHandlers(this.titleBar);\n\n            // the main content area\n            this.container.appendChild(this.createScrollContainer({}));\n\n            // footer\n            this.container.appendChild(this.createFooter());\n            //create div to contain the menu, containing a form with two fields: attributename and attributevalue and a button to commit\n            this.div = document.createElement('div');\n            this.form = document.createElement('form');\n\n            let txt = document.createElement(\"span\");\n            txt.innerText = \"Attribute Name to search\";\n\n            //text input for attributeName\n            this.attributeNameInput = document.createElement('input');\n            this.attributeNameInput.type = 'text';\n            this.attributeNameInput.id = 'attributeNameInput';\n            this.attributeNameInput.name = 'attribute Name';\n            this.attributeNameInput.addEventListener('input', this.updateAttributeName.bind(this))\n\n            let txt2 = document.createElement('span');\n            txt2.innerText = 'Attribute value to search';\n\n            //text input for attributeValue\n            this.attributeValueInput = document.createElement('input');\n            this.attributeValueInput.type = 'text';\n            this.attributeValueInput.id = 'attributeValueInput';\n            this.attributeValueInput.name = 'attribute value';\n            this.attributeValueInput.addEventListener('input', this.updateAttributeValue.bind(this)) \n            \n            //submit Button\n            this.submitButton = document.createElement('input');\n            this.submitButton.type = 'submit';\n            this.submitButton.value = 'start query';\n            this.submitButton.addEventListener('click', this.onClickSubmit.bind(this))\n\n            //clear button\n            this.clearButton = document.createElement('input');\n            this.clearButton.type = 'submit';\n            this.clearButton.value = 'clear selections';\n            this.clearButton.addEventListener('click', this.clear.bind(this))\n\n            //file input\n            this.fileInput = document.createElement('input');\n            this.fileInput.type = 'file';\n            this.fileInput.id = 'fileinput';\n            this.fileInput.name = 'upload file';\n            this.fileInput.accept = 'csv';\n\n            //attach elements to form\n            this.form.appendChild(txt);\n            this.form.appendChild(this.attributeNameInput);\n            this.form.appendChild(document.createElement('br'));\n            this.form.appendChild(txt2);\n            this.form.appendChild(this.attributeValueInput);\n            this.form.appendChild(document.createElement('br'));\n            this.form.appendChild(this.submitButton);\n            this.form.appendChild(document.createElement('br'));\n            this.form.appendChild(this.clearButton);\n            this.form.appendChild(this.fileInput);\n\n            this.div.appendChild(this.form);\n            this.scrollContainer.appendChild(this.div);\n        }\n\n        private updateAttributeName(event : Event){\n            this.attrName = (event.target as HTMLInputElement).value;\n            console.log(\"attribute name: \", this.attrName);\n        }\n\n        private updateAttributeValue(event : Event){\n            this.attrValue = (event.target as HTMLInputElement).value;\n            console.log(\"attribute value: \", this.attrValue);\n        }\n\n        private onClickSubmit(event : Event){\n            this.clear();\n            this.searchParam = attributeParser(this.attrValue,this.attrName);\n\n            if(this.searchParam.names.length != this.searchParam.vals.length){\n                console.log(this.searchParam);\n                throw new Error(\"You must have the same number of name lists and keywords\");\n            }\n            \n            this.curDone = 0;\n            this.numOfNames = this.searchParam.vals.length;\n            this.dbidToColor = new Map<number, number[][]>();\n            this.curDbids = new Set<number>();\n            this.isol.searchAndIsolate(this.searchParam.names, this.searchParam.vals, true, true, true);\n        }\n        //restores model visibility to default\n        private clear(event : Event = null){\n            console.log(\"clearing\");\n            this.isol.clear();\n        }\n        \n    }\n\n    class PanelExt extends Autodesk.Viewing.Extension{\n\n        pn : Panel;\n        btn : Autodesk.Viewing.UI.Button;\n        subToolbar : Autodesk.Viewing.UI.ToolBar;\n\n        constructor(viewer, options){\n            super(viewer, options);\n        }\n\n        public load() : boolean{\n            console.log(\"loading DockingPanel\");\n            //this.pn = new Panel(this.viewer, this.viewer.container, 'panelID', 'panelTitle') \n            ////console.log(this.pn);\n            //this.pn.setVisible(true);\n            return true;\n        } \n\n        public unload() : boolean{\n            console.log(\"unload DockingPanel\")\n            return true;\n        }\n\n        public onToolbarCreated(toolbar : Autodesk.Viewing.UI.ToolBar){\n            var viewer = this.viewer;\n\n\n            // Button 1\n            this.btn = new Autodesk.Viewing.UI.Button('show-env-bg-button');\n            this.btn.onClick = ((e) => {\n                this.pn = new Panel(this.viewer, this.viewer.container, 'searchPanel', 'search');\n                this.pn.setVisible(true);\n            }).bind(this);\n            this.btn.addClass('open-panel-button');\n            this.btn.setToolTip('open search panel');\n\n            \n            // SubToolbar\n            this.subToolbar = new Autodesk.Viewing.UI.ControlGroup('my-custom-toolbar');\n            this.subToolbar.addControl(this.btn);\n\n            toolbar.addControl(this.subToolbar);\n            };\n    } \n    return PanelExt\n}\n","\"use strict\";\n\nimport powerbi from \"powerbi-visuals-api\";\nimport \"./../style/visual.less\";\n\nimport VisualConstructorOptions = powerbi.extensibility.visual.VisualConstructorOptions;\nimport VisualUpdateOptions = powerbi.extensibility.visual.VisualUpdateOptions;\nimport IVisual = powerbi.extensibility.visual.IVisual;\n//import {ExtensionGetter} from \"./ExtensionGetter\";\nimport {PanelExtension} from \"./panel_extension\";\nimport {Isolator} from \"./Isolator\";\nimport {struct} from \"./attribute_parser\";\nimport {visualConnectorExtension} from './VisualConnector_extension';\nlet htmlText : string = 'no rendering?';\nlet viewId : string = 'forge-viewer';\nlet extensionid : string = 'selection_listener_extension';\n\nexport class Visual implements IVisual {\n    private target: HTMLElement;\n    private updateCount: number;\n    private textNode: Text;\n    private pbioptions: VisualConstructorOptions;\n    private forgeviewer : Autodesk.Viewing.GuiViewer3D;\n    private client_id : string | undefined;\n    private client_secret : string | undefined;\n    private autorefresh : boolean;\n    private accessToken : string | undefined;\n    private urn : string | undefined;\n    private maxrows : number;//if all rows are selected no coloring is made;\n    private isolator : Isolator;\n    private connector_extension : Autodesk.Viewing.Extension;\n    //TODO: remove hardcoded, give option to modify\n    //the column name in the table where it is selected\n    private id_column : string = 'Matricola';\n    //the value to read to deduce the color\n    private value_column : string = 'AnnoManutenzione';\n    //the name of the model property corresponding to id_column\n    private id_property : string = 'MATRICOLA';\n    //the values to associate a color\n    private color_values : string[] = ['2021', '2020', '2019'];\n    //the colors to associate to the value, which will determine the color of the selected objects\n    private colors : number[][] = [[0, 256, 0, 256], [256, 256, 0, 256], [256, 0, 0, 256]];\n\n    constructor(options: VisualConstructorOptions) {\n        console.log('Visual constructor', options);\n        this.pbioptions = options;\n        this.target = options.element;\n        this.target.innerText = htmlText;\n        //this.client_id = client_id;\n        //this.client_secret = client_secret;\n        console.log(this.target); \n        //let cl = () => {console.log(\"finished authenticating\"); this.initializeViewer(viewId)}; \n        //this.syncauth(cl);\n        this.onLoadSuccess = this.onLoadSuccess.bind(this);\n    }\n\n    private async syncauth(succcallback : Function){\n        //console.log(\"authenticate\");\n        let fetched = await fetch(\n            \"https://developer.api.autodesk.com/authentication/v1/authenticate\",\n            {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\",\n            },\n            body: new URLSearchParams({\n                'client_id': this.client_id,\n                'client_secret': this.client_secret,\n                'grant_type': 'client_credentials',\n                'scope': 'viewables:read'\n                })\n            }\n        )\n\n        let jason = await fetched.json();\n        this.accessToken = jason.access_token;\n        //console.log(\"reached end of authentication\");\n        //console.log(this.accessToken);\n        succcallback();\n    }\n\n\n    public update(options: VisualUpdateOptions) {\n        /*console.log('Visual update', options);\n        console.log(options.dataViews);*/\n        let cat = options.dataViews[0].categorical;\n        console.log(cat);\n        let curcred : string[] = [this.client_id, this.client_secret, this.urn];\n        //changing credentials\n        this.urn = cat.values[0].values[0] instanceof String || typeof cat.values[0].values[0] === 'string'  ? <string>cat.values[0].values[0] : undefined; \n        this.client_id = cat.values[1].values[0] instanceof String || typeof cat.values[1].values[0] === 'string'  ? <string>cat.values[1].values[0] : undefined;\n        this.client_secret = cat.values[2].values[0] instanceof String || typeof cat.values[2].values[0] === 'string'  ? <string>cat.values[2].values[0] : undefined\n\n\n        if(this.client_id != undefined && this.client_secret != undefined && this.urn != undefined){\n            if(this.forgeviewer === undefined){\n                //console.log(\"strapped\");\n                let cl = () => {/*console.log(\"finished authenticating\")*/; this.initializeViewer(viewId)}; \n                this.syncauth(cl);\n            }\n            else{\n                console.info(\"updating\");\n                //coloring based on the selection\n                this.isolateBySelection(cat);\n                //credentials changed\n                if(this.client_id != curcred[0]){\n                   console.info(\"changing account\");\n                   this.syncauth(() => {\n                       console.log(\"finished authenticating\");\n                       this.forgeviewer.finish();\n                       this.forgeviewer = undefined;\n                       this.initializeViewer(viewId);\n                   });\n               }\n               //model changed\n               else if(this.urn != curcred[2]){\n                   Autodesk.Viewing.Document.load('urn:' + this.urn, this.onLoadSuccess, this.onLoadFailure)\n               }\n            }\n        }\n    }\n\n    public async initializeViewer(viewerDiv : string) : Promise<void>{\n        let aT = this.accessToken;\n        let options = {\n        env: 'AutodeskProduction',\n        api: 'derivativeV2', \n        getAccessToken: (onTokenReady : any) =>{ \n            let timeInSeconds = 3599; \n            onTokenReady(aT, timeInSeconds); \n            }\n        }\n\n        await this.getForgeviewerStyleAndSrc();\n\n        Autodesk.Viewing.Initializer(options, () =>{\n                console.log(\"getting started\");\n                let config = {extensions: \n                    [\n                    'Autodesk.ViewCubeUi',\n                    'panel_extension',\n                    'connector_extension'\n                    ]\n                };\n                this.forgeviewer = new Autodesk.Viewing.GuiViewer3D(document.getElementById(viewerDiv), config);\n                console.log(this.forgeviewer.start());\n                this.connector_extension = this.forgeviewer.getExtension('connector_extension');\n                this.isolator = new Isolator(this.forgeviewer);\n                this.maxrows = 0;\n                //this.forgeviewer.addEventListener(Autodesk.Viewing.SELECTION_CHANGED_EVENT, ((e) => {this.forgeviewer.getProperties(e.dbIdArray[0], (k) => {console.log(k);})}).bind(this));\n                this.myloadExtension('Autodesk.ViewCubeUi', (res) => {res.setVisible(false);});\n                Autodesk.Viewing.Document.load('urn:' + this.urn, this.onLoadSuccess, this.onLoadFailure);\n            });\n    }\n\n    private async getForgeviewerStyleAndSrc() : Promise<void>{\n        console.log(\"getting style\");\n        return new Promise<void>((resolve, reject) =>{\n            let forgeViewerStyle = \"https://developer.api.autodesk.com/modelderivative/v2/viewers/style.min.css\" \n            let forgeViewerSrc = \"https://developer.api.autodesk.com/modelderivative/v2/viewers/viewer3D.js\"\n            //let securityIssue = document.createElement('meta');\n            let forgeViewerjs = document.createElement(\"script\");\n            let forgeViewercss = document.createElement(\"link\");\n            let forgeViewerDiv = document.createElement(\"div\");\n            \n            //securityIssue.httpEquiv = \"Content-Security-Policy\";\n            //securityIssue.content = \"script-src 'self' data: gap:  https://developer.api.autodesk.com/modelderivative/v2/viewers/7.*/viewer3D.min.js 'unsafe-eval' 'unsafe-inline'; object-src 'self'; style-src 'self' data: gap: https://developer.api.autodesk.com/modelderivative/v2/viewers/7.*/style.min.css  'unsafe-inline'; media-src *\";\n            forgeViewerjs.src = forgeViewerSrc;\n            forgeViewercss.href = forgeViewerStyle; \n            forgeViewercss.rel = 'stylesheet'; \n            forgeViewercss.type = 'text/css';\n            forgeViewerDiv.id = viewId;\n            forgeViewerjs.onload = () =>{\n                console.log(\"script loaded\");\n                //let extension = ExtensionGetter.SelectDesk(Autodesk);\n                //let panelext = PanelExtension.SELECT_DESK(Autodesk);\n                //Autodesk.Viewing.theExtensionManager.registerExtension(extensionid, extension);\n                let panelext = PanelExtension();\n                let connectext = visualConnectorExtension();\n                Autodesk.Viewing.theExtensionManager.registerExtension(\"panel_extension\", panelext);\n                Autodesk.Viewing.theExtensionManager.registerExtension(\"connector_extension\", connectext);\n                this.target.appendChild(forgeViewercss);\n                this.target.appendChild(forgeViewerDiv);\n                resolve();\n            }\n            //document.head.appendChild(securityIssue);\n            this.target.appendChild(forgeViewerjs);\n           \n        }) \n    }\n\n    private onLoadSuccess(doc :Autodesk.Viewing.Document){\n        console.log(\"SUCCESS\");\n        this.forgeviewer.loadDocumentNode(doc, doc.getRoot().getDefaultGeometry())\n\n    }\n\n    private onLoadFailure(errorCode){\n        console.log(\"load error: \" + errorCode);\n    }\n\n    private async myloadExtension(name : string, succcallback : Function){\n        this.forgeviewer.loadExtension(name).then((res) => {succcallback(res)});\n    } \n    /**\n    * pass the options.categories used in the update function\n    * the model objects will be isolated/colored accordingly (see class parameters)\n    * **/\n    private isolateBySelection(cat : powerbi.DataViewCategorical) : void{\n        let curModello : string[];\n        let curValues : string[];\n        for(let obj of cat.categories){\n            if(obj.source.displayName === this.id_column){\n                //to determine how many rows there are\n                if(obj.values.length > this.maxrows){\n                    this.maxrows = obj.values.length\n                }\n                else if(obj.values.length < this.maxrows && obj.values.length > 0){\n                    curModello = obj.values.map((e) => {return e.toString()})\n                }\n                curModello = obj.values.map((e) => {return e.toString()});\n            }\n            else if(obj.source.displayName === this.value_column){\n                curValues = obj.values.map((e) => {return e.toString()})\n            }\n        }\n        let stru : struct[] = [];\n        for(let val of curValues){\n            let curcolor = this.color_values.indexOf(val) >= 0 ? this.colors[this.color_values.indexOf(val)] : [0, 0, 0, 0];\n            stru.push(new struct([this.id_property], curcolor));\n        }\n        console.log(stru, curModello);\n        this.isolator.searchAndIsolate(stru, curModello, true, true, true)\n    }\n\n}\n","module.exports = Function('return this')();","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { Visual } from \"../../src/visual\";\nimport powerbiVisualsApi from \"powerbi-visuals-api\";\nimport IVisualPlugin = powerbiVisualsApi.visuals.plugins.IVisualPlugin;\nimport VisualConstructorOptions = powerbiVisualsApi.extensibility.visual.VisualConstructorOptions;\nimport DialogConstructorOptions = powerbiVisualsApi.extensibility.visual.DialogConstructorOptions;\nvar powerbiKey: any = \"powerbi\";\nvar powerbi: any = window[powerbiKey];\nvar pbiviewertestB15982BC11F74E40B7A6B4503F50947D_DEBUG: IVisualPlugin = {\n    name: 'pbiviewertestB15982BC11F74E40B7A6B4503F50947D_DEBUG',\n    displayName: 'pbi_viewer_test',\n    class: 'Visual',\n    apiVersion: '5.1.0',\n    create: (options: VisualConstructorOptions) => {\n        if (Visual) {\n            return new Visual(options);\n        }\n        throw 'Visual instance not found';\n    },\n    createModalDialog: (dialogId: string, options: DialogConstructorOptions, initialState: object) => {\n        const dialogRegistry = globalThis.dialogRegistry;\n        if (dialogId in dialogRegistry) {\n            new dialogRegistry[dialogId](options, initialState);\n        }\n    },\n    custom: true\n};\nif (typeof powerbi !== \"undefined\") {\n    powerbi.visuals = powerbi.visuals || {};\n    powerbi.visuals.plugins = powerbi.visuals.plugins || {};\n    powerbi.visuals.plugins[\"pbiviewertestB15982BC11F74E40B7A6B4503F50947D_DEBUG\"] = pbiviewertestB15982BC11F74E40B7A6B4503F50947D_DEBUG;\n}\nexport default pbiviewertestB15982BC11F74E40B7A6B4503F50947D_DEBUG;"],"names":[],"sourceRoot":""}